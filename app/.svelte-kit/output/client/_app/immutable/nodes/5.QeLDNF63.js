import{f as c,a as n,t as _}from"../chunks/DTjTDYf3.js";import{s as L,a3 as P,c as R,g as t,ae as W,af as E,p as M,a as T,f as V,Y as $,X,ag as w,Z as x,ad as b}from"../chunks/Cy0nnqwK.js";import{s as h}from"../chunks/Zp7FgOxX.js";import{i as Y}from"../chunks/BxqNGrrm.js";import{e as Z}from"../chunks/DTiiyNL4.js";import{g as j}from"../chunks/BXN2zbQS.js";import{G as q,D as z}from"../chunks/B5ZTdtgC.js";import{D as A}from"../chunks/CFNKoBvp.js";import{g as B}from"../chunks/Disko3h9.js";import{S as y}from"../chunks/Du5sam5i.js";const D=Symbol("Overworld");function H(){return{...E(D)}}function I(){const e=B();let s=L(P(new y));e.$on("auth",()=>{const d=e.subscribe("fields");return e.getFields().$then(({data:r})=>{R(s,new y(r.fields.map(l=>[l.id,l])),!0)}),d.$on("next",({message:r})=>{t(s).set(r.data.field.id,r.data.field)}),()=>{d.unsubscribe()}}),W(D,{get fields(){return t(s)}})}var J=c('<div class="field-label svelte-urwvt6"><!></div>'),K=c("<!> <!>",1),N=c('<main class="void svelte-urwvt6" role="application"><!></main>');function vt(e,s){M(s,!0),I();const d=w(H),r=w(()=>t(d).fields);async function l(f){await j(`/field/${f.id}`)}var v=N(),O=$(v);A(O,{children:(f,Q)=>{var u=K(),g=V(u);q(g,{});var k=X(g,2);Z(k,17,()=>t(r).values(),m=>m.id,(m,a)=>{z(m,{get x(){return t(a).grid_x},get y(){return t(a).grid_y},onClick:()=>l(t(a)),children:(S,U)=>{var p=J(),C=$(p);{var F=o=>{var i=_();b(()=>h(i,t(a).name)),n(o,i)},G=o=>{var i=_();b(()=>h(i,`Field ${t(a).id??""}`)),n(o,i)};Y(C,o=>{t(a).name?o(F):o(G,!1)})}x(p),n(S,p)},$$slots:{default:!0}})}),n(f,u)},$$slots:{default:!0}}),x(v),n(e,v),T()}export{vt as component};
